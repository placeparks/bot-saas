# Wrapper Dockerfile that adds our custom entrypoint to OpenClaw
FROM ghcr.io/openclaw/openclaw:latest

# Copy entrypoint script
COPY openclaw-entrypoint.sh /tmp/entrypoint.sh

# Fix line endings with tr (works on any system) and move to final location
RUN tr -d '\r' < /tmp/entrypoint.sh > /usr/local/bin/openclaw-entrypoint.sh && \
    chmod +x /usr/local/bin/openclaw-entrypoint.sh && \
    rm /tmp/entrypoint.sh

# Use our entrypoint
ENTRYPOINT ["/usr/local/bin/openclaw-entrypoint.sh"]
